collapse based on setted rules
